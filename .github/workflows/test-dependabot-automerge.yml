name: Test Dependabot auto-merge

on:
  pull_request:

jobs:
  automerge:
    permissions:
      contents: write
      pull-requests: write
      checks: read
      statuses: read
    uses: ./.github/workflows/dependabot-automerge.yml
    with:
      required-label: dependencies
      merge-method: squash
      dry-run: true
    secrets:
      # Dummy token for dry-run testing only; not used in API calls
      github-token: test-token